webpackJsonp([68],{1535:function(t,e,i){"use strict";function s(t){return o["ɵvid"](0,[o["ɵqud"](402653184,1,{navBar:0}),(t()(),o["ɵted"](-1,null,["\n"]))],null,null)}Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),a=(i(0),i(2),i(112)),r=i(4),n=i(27),l=i(126),c=function(){function t(t,e,i,s,o,a,r,l){this.navCtrl=t,this.navParams=e,this.service=i,this.loadingCtrl=s,this.serve=o,this.formBuilder=a,this.toastCtrl=r,this.alertCtrl=l,this.lead_form={},this.state_list=[],this.city_list=[],this.data={},this.contact_person={},this.city_name=[],this.type="",this.title="",this.order="",this.district_list=[],this.check_gst="",this.gst_details=[],this.check_mobile="",this.brandList=[],this.salesUserList=[],this.countryList=[],this.category_list=[],this.data1=[],this.loading="0",this.order_data=[],this.type=this.navParams.get("type"),console.log(this.type),1==this.type&&(this.title="Distributor"),3==this.type&&(this.title="Dealer"),7==this.type&&(this.title="Direct Dealer"),this.validateForm=a.group({companyName:["",n.Validators.compose([n.Validators.required])],name:["",n.Validators.compose([n.Validators.required])],email:[""],mobile:["",n.Validators.compose([n.Validators.required,n.Validators.minLength(10),n.Validators.maxLength(10)])],whatsapp:["",n.Validators.compose([n.Validators.required,n.Validators.minLength(10),n.Validators.maxLength(10)])],gst:[""],dob:[""],anniversary_date:[""],address:["",n.Validators.compose([n.Validators.required])],stateName:["",n.Validators.compose([n.Validators.required])],districtName:["",n.Validators.compose([n.Validators.required])],state:["",n.Validators.compose([n.Validators.required])],district:["",n.Validators.compose([n.Validators.required])],pincode:["",n.Validators.compose([n.Validators.required,n.Validators.minLength(6),n.Validators.maxLength(6)])],city:["",n.Validators.compose([n.Validators.required])],cityName:["",n.Validators.compose([n.Validators.required])],brand:["",n.Validators.compose([n.Validators.required])],user:["",n.Validators.compose([n.Validators.required])],country:["India",n.Validators.compose([n.Validators.required])]}),this.getState()}return t.prototype.ionViewDidLoad=function(){this.getBrandList(),this.getSalesUserList(),this.getCountryList(),console.log("ionViewDidLoad AddDistributionPage")},t.prototype.portChange=function(t){console.log("port:",t.value)},t.prototype.portChange1=function(t){console.log("port:",t.value)},t.prototype.getState=function(){var t=this,e=this.loadingCtrl.create({spinner:"hide",content:'<img src="./assets/imgs/gif.svg" class="h55" />'});this.service.getState().then(function(i){e.dismiss(),console.log(i),t.state_list=i}),e.present()},t.prototype.getDistrict=function(t){var e=this;console.log(t);var i=this.loadingCtrl.create({spinner:"hide",content:'<img src="./assets/imgs/gif.svg" class="h55" />'});this.service.getCity(t).then(function(t){i.dismiss(),console.log(t),e.district_list=t}),i.present()},t.prototype.check_mobile_existence=function(t){var e=this;this.serve.addData({mobile:t},"Enquiry/check_mobile_existence").then(function(i){console.log(i),e.check_mobile=i.check_mobile,console.log(e.check_mobile),console.log(t.length)})},t.prototype.check_gst_existence=function(t){var e=this;this.serve.addData({gst:t},"Enquiry/check_gst_existence").then(function(t){console.log(t),e.check_gst=t.check_gst,console.log(e.check_gst),e.gst_details=t.data,console.log(e.gst_details)})},t.prototype.getBrandList=function(){var t=this;this.serve.addData({},"Distributor/brands_list").then(function(e){console.log(e),t.brandList=e})},t.prototype.getSalesUserList=function(){var t=this;this.serve.addData({},"Distributor/sales_user_list").then(function(e){console.log(e),t.salesUserList=e})},t.prototype.getCountryList=function(){var t=this;this.serve.addData({},"Distributor/country_list").then(function(e){console.log(e),t.countryList=e})},t.prototype.get_pincode_area_name=function(t){var e=this;this.service.get_pincode_city_name(t).then(function(t){console.log(t),""==t||null==t?e.city_name="Not Matched":(e.city_name=t.city,e.data.state={state_name:t.state_name},e.data.district={district_name:t.district_name},e.data.city={city:t.city})})},t.prototype.getCity=function(t,e){var i=this;console.log(t),console.log(e);var s=this.loadingCtrl.create({spinner:"hide",content:'<img src="./assets/imgs/gif.svg" class="h55" />'});this.service.getCity1({state:t,district:e}).then(function(t){s.dismiss(),console.log(t),i.city_list=t}),s.present()},t.prototype.getArea=function(t,e,i){var s=this;console.log(t);var o=this.loadingCtrl.create({spinner:"hide",content:'<img src="./assets/imgs/gif.svg" class="h55" />'});this.service.getCity({state:t,district:e,city:i}).then(function(t){o.dismiss(),console.log(t),s.city_list=t}),o.present()},t.prototype.getPincode=function(t,e,i,s){var o=this;console.log(t);var a=this.loadingCtrl.create({spinner:"hide",content:'<img src="./assets/imgs/gif.svg" class="h55" />'});this.service.getCity({state:t,district:e,city:i,area:s}).then(function(t){a.dismiss(),console.log(t),o.city_list=t}),a.present()},t.prototype.get_category=function(){var t=this;this.serve.addData({type:this.type},"Distributor/discount_category").then(function(e){console.log(e),t.category_list=e,console.log(t.category_list)})},t.prototype.MobileNumber=function(t){var e=String.fromCharCode(t.charCode);8==t.keyCode||/[0-9\+\-\ ]/.test(e)||t.preventDefault()},t.prototype.presentToast=function(){this.toastCtrl.create({message:"Lead Added Successfully",duration:3e3,position:"bottom"}).present()},t.prototype.presentToast1=function(){this.toastCtrl.create({message:"Dealer Added Successfully",duration:3e3,position:"bottom"}).present()},t.prototype.submitDealer=function(){var t=this;console.log(this.data),this.loading="1",this.validateForm.invalid&&(this.validateForm.get("companyName").markAsTouched(),this.validateForm.get("name").markAsTouched(),this.validateForm.get("mobile").markAsTouched(),this.validateForm.get("stateName").markAsTouched(),this.validateForm.get("districtName").markAsTouched(),this.validateForm.get("pincode").markAsTouched(),this.validateForm.get("city").markAsTouched(),this.validateForm.get("address").markAsTouched(),this.validateForm.get("gst").markAsTouched(),console.log(this.validateForm)),"India"==this.data.country.country_name&&(this.data.state=this.data.state.state_name,this.data.district=this.data.district.district_name,this.data.city=this.data.city.cityName),this.data.type=this.type,console.log(this.data),this.serve.addData({data:this.data},"Distributor/add_dealer").then(function(e){console.log(e),"success"==e.msg&&(t.navCtrl.push(l.a),t.presentToast1())}),this.loading="0"},t.prototype.presentAlert=function(){this.alertCtrl.create({title:"Alert",subTitle:"Mobile No. Already Exists",buttons:["Ok"]}).present()},t}(),d=function(){return function(){}}(),h=i(311),u=i(312),m=i(313),g=i(314),p=i(315),y=i(316),v=i(317),_=i(318),f=i(319),b=i(10),V=i(9),C=i(32),L=i(40),D=i(36),k=o["ɵcrt"]({encapsulation:2,styles:[],data:{}}),F=o["ɵccf"]("page-add-distribution",c,function(t){return o["ɵvid"](0,[(t()(),o["ɵeld"](0,0,null,null,1,"page-add-distribution",[],null,null,null,s,k)),o["ɵdid"](1,49152,null,0,c,[b.a,V.a,a.a,C.a,r.a,n.FormBuilder,L.a,D.a],null,null)],null,null)},{},{},[]),q=i(13),A=i(227),N=i(125);i.d(e,"AddDistributionPageModuleNgFactory",function(){return T});var T=o["ɵcmf"](d,[],function(t){return o["ɵmod"]([o["ɵmpd"](512,o.ComponentFactoryResolver,o["ɵCodegenComponentFactoryResolver"],[[8,[h.a,u.a,m.a,g.a,p.a,y.a,v.a,_.a,f.a,F]],[3,o.ComponentFactoryResolver],o.NgModuleRef]),o["ɵmpd"](4608,q.NgLocalization,q.NgLocaleLocalization,[o.LOCALE_ID,[2,q["ɵa"]]]),o["ɵmpd"](4608,n["ɵi"],n["ɵi"],[]),o["ɵmpd"](4608,n.FormBuilder,n.FormBuilder,[]),o["ɵmpd"](512,q.CommonModule,q.CommonModule,[]),o["ɵmpd"](512,n["ɵba"],n["ɵba"],[]),o["ɵmpd"](512,n.FormsModule,n.FormsModule,[]),o["ɵmpd"](512,n.ReactiveFormsModule,n.ReactiveFormsModule,[]),o["ɵmpd"](512,A.a,A.a,[]),o["ɵmpd"](512,A.b,A.b,[]),o["ɵmpd"](512,d,d,[]),o["ɵmpd"](256,N.a,c,[])])})}});